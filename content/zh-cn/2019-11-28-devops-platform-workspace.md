---
layout: post
title: "谈 DevOps 平台设计：为什么用户喜欢在构建后加一句 ls -al ."
Description: ""
date: 2019-11-28
comments: true
share: true
---
![image.png](/assets/images/292372-fcd261b506ae3d41.png)

最近发现用户都喜欢构建命令最后加上一行：`ls -a .`。为什么呢？

是因为他们想知道执行 `npm run build` 后的目录的结果是什么样的。目录里到底有没有出现期望的文件。

这个功能在 Jenkins 中叫做“工作空间”。其实就是源码在 Jenkins 上下载后的目录。Jenkins 中，用户是可以直接像在查看本地文件夹一样查看这个工作空间的内容。如下图如示。

![image.png](/assets/images/292372-43a761d9a9f32200.png)

为什么用户想要看工作空间中的目录结构呢？说到底就是用户本地打包环境和平台打包环境还是有区别的。当出现构建结果不符合预期时，用户需要根据工作空间的信息来找到失败原因。

另，笔者看了行业内的几个平台，没有找到“工作空间”的功能。为什么没有这个功能呢？不知道。

### 后记
“工作空间”这个特性本身提高了用户在平台上的自检能力。因为平台上的信息对于用户更透明了。那么实现这个功能的成本呢？这是我们在实现前要考虑的问题。
